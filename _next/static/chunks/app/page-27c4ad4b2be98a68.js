(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9427:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=9427,e.exports=t},6601:function(){},9214:function(){},5568:function(){},2361:function(){},4616:function(){},2693:function(e,t,n){Promise.resolve().then(n.bind(n,2836))},2836:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(9268),s=n(6006),l=n(4783),r=n(4214),i=JSON.parse('{"sellerAddr":"addr_test1qpw57k84mzwmpqyx6n9smye79mxt8rqpfpvx7p6chz95sm7a3aw5tgv4fc9weuwme2u29aerv5hk0m2lkpkgasn7gtxqwen0r7","sellContext":{"selections":"addr_test1qpw57k84mzwmpqyx6n9smye79mxt8rqpfpvx7p6chz95sm7a3aw5tgv4fc9weuwme2u29aerv5hk0m2lkpkgasn7gtxqwen0r7"},"price":3000000,"asset":{"34e6054e3e74ecf4a9b6eb4e34a865f6b0b5fee85e6a9bfba0d2d025":{"546f6b656e31":1}}}'),c=JSON.parse('{"buyUtxo":"4249f23774be87542bf33106f589837a75a0a7d2656668dbb1d0164a6a08978e#0","buyContext":{"selections":"addr_test1qpw57k84mzwmpqyx6n9smye79mxt8rqpfpvx7p6chz95sm7a3aw5tgv4fc9weuwme2u29aerv5hk0m2lkpkgasn7gtxqwen0r7"}}'),o=JSON.parse('{"deployerAddress":"addr_test1qpw57k84mzwmpqyx6n9smye79mxt8rqpfpvx7p6chz95sm7a3aw5tgv4fc9weuwme2u29aerv5hk0m2lkpkgasn7gtxqwen0r7","txBuilder":{"selections":"addr_test1qpw57k84mzwmpqyx6n9smye79mxt8rqpfpvx7p6chz95sm7a3aw5tgv4fc9weuwme2u29aerv5hk0m2lkpkgasn7gtxqwen0r7"}}'),d=n(3603);n(9352);var u=n(570);n(2249),n(2801),n(4110),n(922),n(7669).Buffer;let x=n(6602),m=new x,h=n(7669),p=n(2249);n(3264);let w=e=>{let{connectedWallet:t}=e;new l.Kuber("https://preview.kuberide.com");let[n,x]=(0,s.useState)(!1),[w,g]=(0,s.useState)(!1),[f,b]=(0,s.useState)(""),y=e=>{b(e.target.value)};function v(e){return d.YW8.from_hex(e).to_hex()}let j=async()=>{let e=await t.enable();try{let t=await r.Z.post("http://172.31.6.14:8081/deploy",o);console.log("response: ",t);let n=v(t.data.cborHex),a=await e.signTx(n,!0),s=e.instance.submitTx(a);console.info("Submitted: \n",s),x(!0)}catch(e){console.error("Error:",JSON.stringify(e))}},k=async()=>{let e=await t.enable();try{let t=await r.Z.post("http://172.31.6.14:8080/sell",i),n=v(t.data.cborHex),a=await e.signTx(n,!0),s=e.instance.submitTx(a);console.info("Submitted: \n",s),x(!0)}catch(e){console.error("Error:",JSON.stringify(e))}},N=async()=>{let e=await t.enable();try{let t=await r.Z.post("http://172.31.6.14:8080/buy",c),n=v(t.data.cborHex),a=await e.signTx(n,!0),s=e.instance.submitTx(a);console.info("Submitted: \n",s),x(!0)}catch(e){console.error("Error:",JSON.stringify(e))}},S=async e=>{e.preventDefault(),C(f)};async function C(e){try{let n=(await t.enable()).instance,a=await n.getUsedAddresses();console.log(a[0]),await n.getRewardAddresses();let s=e.split("").map(e=>e.charCodeAt().toString(16)).join(""),l=await n.signData(a[0],s);console.log("Signature Response: "+JSON.stringify(l));let r=function(e,t){let n=p.Decoder.decode(h.Buffer.from(e,"hex")),a=h.Buffer.alloc(0),s=n.value[0];p.Decoder.decode(s).value;let l=n.value[2],r=p.Encoder.encode(["Signature1",s,a,l]),i=n.value[3],c=(0,u.getPublicKeyFromCoseKey)(t),o=m.keyFromPublic(c.toString("hex")),d=o.verify(r.toString("hex"),i.toString("hex"));return console.log("payload: ",l.toString("hex")),console.log("publicKey: ",c.toString("hex")),console.log("message: ",r.toString("hex")),console.log("signature: ",i.toString("hex")),d}(null==l?void 0:l.signature,null==l?void 0:l.key);console.log("is Signature Valid? ",r),b(""),x(!0)}catch(e){console.error("Error:",e)}}return(0,a.jsxs)("div",{className:"userAssets",children:[(0,a.jsx)("button",{onClick:j,children:"SUBMIT"}),(0,a.jsx)("button",{onClick:k,children:"SELL"}),(0,a.jsx)("button",{onClick:N,children:"BUY"}),(0,a.jsxs)("form",{onSubmit:S,className:"form-style",children:[(0,a.jsx)("input",{type:"text",value:f,onChange:y,className:"black-text"}),(0,a.jsx)("button",{type:"submit",children:"SIGN DATA"})]}),n&&(0,a.jsx)("p",{children:"Data Signed Successfully!!"}),w&&(0,a.jsx)("p",{children:"WELCOME OPERATOR"})]})},g=()=>{let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[i,c]=(0,s.useState)(null),o=async()=>{if(!n)try{new l.Kuber("https://preview.kuberide.com");let e=await l.CIP30Wallet.listProviders();if(!e){window.alert("Please Install CIP-30 Compatible Wallet in Your Browser");return}t(e)}catch(e){console.error("Error fetching installed wallets:",e)}r(!n)},d=async e=>{try{await e.enable(),c(e)}catch(e){console.error("Error enabling wallet:",e)}},u=()=>{c(null)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"navbar",children:[(0,a.jsx)("div",{className:"nfterra",children:"Ｃ Ｎ Ｆ Ｔ \xa0"}),(0,a.jsx)("div",{className:"divContainer",children:(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"connectWallet ".concat(i?"disconnect":""),onClick:i?u:o,children:i?"Disconnect":"Connect Wallet"})})}),n&&(0,a.jsx)("div",{className:"walletContainer",children:(0,a.jsx)("div",{children:(0,a.jsx)("table",{className:"slide-in-content",align:"right",cellPadding:10,style:{textAlign:"center"},children:(0,a.jsxs)("tr",{children:[0==e.length&&(0,a.jsx)("td",{colSpan:2,style:{textAlign:"center"},className:"walletName",children:(0,a.jsx)("p",{children:"Please install CIP-30 Compatible Wallet in your Browser"})}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"walletNameSeperator",children:"|"}),(0,a.jsx)("td",{className:"walletName",children:(0,a.jsx)("img",{style:{width:"30px",height:"30px"},src:i.icon,alt:i.name})}),(0,a.jsx)("td",{className:"walletName",children:(0,a.jsx)("p",{children:i.name})}),(0,a.jsx)("td",{children:"\xa0"})]}),!i&&e.map(e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"walletNameSeperator",children:"|"}),(0,a.jsx)("td",{className:"walletName",children:(0,a.jsx)("img",{style:{width:"30px",height:"30px"},src:e.icon,alt:e.name,onClick:()=>d(e)})}),(0,a.jsx)("td",{className:"walletName",children:(0,a.jsxs)("p",{onClick:()=>d(e),children:[e.name," "]})})]}),(0,a.jsx)("td",{children:"\xa0"})]})})),(0,a.jsx)("td",{children:"\xa0"})]})})})})]}),i&&(0,a.jsx)(w,{connectedWallet:i})]})};var f=g}},function(e){e.O(0,[350,818,464,48,667,139,744],function(){return e(e.s=2693)}),_N_E=e.O()}]);